(this["webpackJsonpravs-client"]=this["webpackJsonpravs-client"]||[]).push([[12],{1022:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(257),s=a(89),i=a(229),j=a(232),l=a(92),d=a(11),o=a.n(d),b=a(13),u=a(20),O=a(6),x=a(49),h=a(33),m=a(53),p=a(333),v=a(123),g=a(0),f=c.a.createContext(null);function y(e){var t=Object(x.i)(),a=Object(m.b)(),n=a.queryParams,r=a.setQueryParams,s=Object(h.a)(),i=Object(v.a)(6e4),j=c.a.useState(),l=Object(O.a)(j,2),d=l[0],y=l[1],w=c.a.useCallback(Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.fetch(t,n);case 3:a=e.sent,y(a.data),a.pagination&&r((function(e){var t;return Object(b.a)(Object(b.a)({},e),{},{pagesCount:null===(t=a.pagination)||void 0===t?void 0:t.pagesCount})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),s(e.t0.description,"error"),y([]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[r,n.currentPage,n.itemsOnPage,n.method,n.userId,n.endpoint,s,t]);return c.a.useEffect((function(){w()}),[w,i]),Object(g.jsx)(f.Provider,{value:{logs:d},children:e.children})}var w=a(4),k=a(316),z=a(483),P=a(880),C=a(877),E=a(484),S=a(41),T=a(233);function I(){var e,t,a=Object(m.b)(),n=a.queryParams,r=a.setQueryParams,s=Object(S.a)().user,i=Object(x.h)().search,j=c.a.useCallback((function(e){e.preventDefault(),r((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(w.a)({},e.target.name,e.target.value))}))}),[r]),l=c.a.useMemo((function(){var e,t=null!==(e=new URLSearchParams(i).get("endpoint"))&&void 0!==e?e:"%/users/".concat(null===s||void 0===s?void 0:s.id);return r((function(e){return Object(b.a)(Object(b.a)({},e),{},{endpoint:t})})),t}),[r,i,null===s||void 0===s?void 0:s.id]);return Object(g.jsxs)(k.a,{container:!0,component:"form",spacing:3,children:[Object(g.jsx)(k.a,{item:!0,xs:6,md:2,children:Object(g.jsxs)(z.a,{fullWidth:!0,children:[Object(g.jsx)(P.a,{id:"wybierz-metode",children:"Metoda"}),Object(g.jsxs)(C.a,{size:"small",labelId:"wybierz-metode",id:"metoda",value:n.method,name:"method",label:"wybierz-metode",onChange:j,children:[Object(g.jsx)(E.a,{value:"",children:"brak"}),Object(g.jsx)(E.a,{value:"GET",children:"GET"}),Object(g.jsx)(E.a,{value:"POST",children:"POST"}),Object(g.jsx)(E.a,{value:"PATCH",children:"PATCH"}),Object(g.jsx)(E.a,{value:"DELETE",children:"DELETE"})]})]})}),Object(g.jsx)(k.a,{item:!0,xs:6,md:3,children:Object(g.jsx)(T.a,{label:"id u\u017cytkownika",name:"userId",value:null!==(e=null===(t=n.userId)||void 0===t?void 0:t.toString())&&void 0!==e?e:"",onChange:function(e){return r((function(t){return Object(b.a)(Object(b.a)({},t),{},{userId:e.target.value})}))}})}),Object(g.jsx)(k.a,{item:!0,xs:12,md:!0,children:Object(g.jsx)(T.a,{name:"endpoint",label:"endpoint",value:l,onChange:j})})]})}var A=c.a.memo(I),B=a(983),D=a(985),J=a(981),L=a(982),q=a(984),H=a(980),M=a(965),U=a(986),F=a(481),G=a(46),N=a(973),Q=a(341),R=a.n(Q),_=a(340),K=a.n(_),W=a(44);function V(e){var t=e.row,a=c.a.useState(!1),n=Object(O.a)(a,2),r=n[0],s=n[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(H.a,{hover:!0,sx:{"& > *":{borderBottom:"unset"}},children:[Object(g.jsx)(J.a,{children:Object(g.jsx)(M.a,{"aria-label":"szczeg\xf3\u0142y zapytania",size:"small",onClick:function(){return s(!r)},children:r?Object(g.jsx)(K.a,{}):Object(g.jsx)(R.a,{})})}),Object(g.jsx)(J.a,{component:"th",children:t.id}),Object(g.jsx)(J.a,{align:"left",children:t.endpoint}),Object(g.jsx)(J.a,{align:"left",sx:{display:{xs:"none",sm:"none",md:"table-cell"}},children:Math.fround(1e3*t.time).toPrecision(6)}),Object(g.jsx)(J.a,{align:"left",children:Object(W.a)(t._created)})]}),Object(g.jsx)(H.a,{children:Object(g.jsx)(J.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(g.jsx)(U.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(g.jsxs)(F.a,{component:"pre",sx:{margin:1},children:[Object(g.jsxs)(N.a,{component:G.b,to:"/app/users/".concat(t.user),children:["Poka\u017c u\u017cytkownika (id: ",t.user,")"]})," ",Object(g.jsx)("br",{}),Object(W.a)(t._created),"\xa0|\xa0",t.method,"\xa0",t.endpoint,Object(g.jsx)("br",{}),"czas przetwarzania: ",t.time," [s]",Object(g.jsx)("br",{}),"Cia\u0142o zapytania ",Object(g.jsx)("br",{}),JSON.stringify(JSON.parse(t.payload),void 0,3)]})})})})]})}var X=a(37);function Y(){var e=c.a.useContext(f).logs;return e?Object(g.jsx)(L.a,{children:Object(g.jsxs)(B.a,{"aria-label":"tabela log\xf3w",size:"small",children:[Object(g.jsx)(q.a,{children:Object(g.jsxs)(H.a,{children:[Object(g.jsx)(J.a,{}),Object(g.jsx)(J.a,{align:"left",children:"Id"}),Object(g.jsx)(J.a,{align:"left",children:"Cel/endpoint"}),Object(g.jsx)(J.a,{align:"left",sx:{display:{xs:"none",sm:"none",md:"table-cell"}},children:"Czas wykonania\xa0[ms]"}),Object(g.jsx)(J.a,{align:"left",children:"Data"})]})}),Object(g.jsxs)(D.a,{children:[0===e.length&&Object(g.jsx)(H.a,{children:Object(g.jsx)(J.a,{colSpan:6,children:Object(g.jsx)(s.a,{textAlign:"center",p:"15px 0px",children:"Brak element\xf3w do wy\u015bwietlenia"})})}),e.map((function(e){return Object(g.jsx)(V,{row:e},e.id)}))]})]})}):Object(g.jsx)(X.a,{})}t.default=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(l.a,{title:"Logs Explorer",children:Object(g.jsx)(i.a,{name:"logs-query-params",default:{method:"PATCH",itemsOnPage:5},children:Object(g.jsxs)(y,{children:[Object(g.jsx)("br",{}),Object(g.jsxs)(r.a,{spacing:3,children:[Object(g.jsx)(A,{}),Object(g.jsx)(Y,{}),Object(g.jsx)(j.a,{})]})]})})}),Object(g.jsx)("br",{}),Object(g.jsx)(l.a,{title:"Przyk\u0142ady",children:Object(g.jsxs)(s.a,{variant:"body2",children:['"%" - tzw. wildcard - zst\u0119puje dowolny ci\u0105g znak\xf3w ',Object(g.jsx)("br",{}),"Ustawienia: %/configuration ",Object(g.jsx)("br",{}),"U\u017cytkownicy: %/users ",Object(g.jsx)("br",{}),"Adresy / Budynki / Sale: %/addresses %/buildings %/rooms ",Object(g.jsx)("br",{}),"Klasy dost\u0119pu: %/accesses ",Object(g.jsx)("br",{}),"Rezerwacje: %/reservations"]})})]})}}}]);
//# sourceMappingURL=12.09a106b6.chunk.js.map